<div class="page-wrap h-full slate">
  <div class="session-form-hold">
    <mat-progress-bar mode="determinate" class="session-progress"></mat-progress-bar>
    <mat-card style="border-radius: 30px;">
      <mat-card-content>
        <div class="text-center pt-8 pb-16">
          <img width="186px" src="assets/images/logo_grupofe.svg" alt="">
          <!-- <p class="text-muted m-0">Grupo Fe</p> -->
        </div>
        <div class="credentials text-center pt-8 pb-16">
          <div class="logos-company">
            <div fxFlex="33">
              <img class="img-company img-fluid" src="assets/images/GrupoFe/logocampofe_min.svg" alt="">
            </div>
            <div fxFlex="33">
              <img class="img-company img-fluid" src="assets/images/GrupoFe/logoprestafe_min.svg" alt="">
            </div>
            <div fxFlex="33">
              <img class="img-company img-fluid" src="assets/images/GrupoFe/logofesalud_min.svg" alt="">
            </div>
          </div>
          <hr>
          <!-- <p class="text-muted m-0">Grupo Fe</p> -->

        </div>

        <p *ngIf="errorMsg" class="text-center"><small class="text-red">{{errorMsg}}</small></p>

        <form [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
          <div class="credentials">
            <mat-form-field class="full-width">
              <input
                type="password"
                name="password"
                matInput
                [formControl]="changePasswordForm.controls['passwordWithoutEncryption']"
                placeholder="Nueva Contraseña"
                value=""
                maxlength="12"
              />
            </mat-form-field>
            <small
              *ngIf="
                changePasswordForm.controls['passwordWithoutEncryption'].hasError('required') &&
                changePasswordForm.controls['passwordWithoutEncryption'].touched
              "
              class="form-error-msg"
            >
              Se requiere la contraseña
            </small>
            <small 
            *ngIf="changePasswordForm.controls['passwordWithoutEncryption'].hasError('minlength') && changePasswordForm.controls['passwordWithoutEncryption'].touched" 
            class="form-error-msg"> La contraseña debe contener un mínimo de  {{changePasswordForm.controls['passwordWithoutEncryption'].errors.minlength.requiredLength}} caracteres </small>
            
            <small 
            *ngIf="changePasswordForm.controls['passwordWithoutEncryption'].hasError('maxlength') && changePasswordForm.controls['passwordWithoutEncryption'].touched" 
            class="form-error-msg"> La contraseña no puede contener mas de  {{changePasswordForm.controls['passwordWithoutEncryption'].errors.maxlength.requiredLength}} caracteres </small>


          </div>
          <div class="credentials">
            <mat-form-field class="full-width">
              <input
                type="password"
                name="confirmPassword"
                matInput
                [formControl]="changePasswordForm.controls['passwordConfirm']"
                placeholder="Confirmar Password"
                value=""
                maxlength="12"
              />
            </mat-form-field>
            <small
              *ngIf="
                changePasswordForm.controls['passwordConfirm'].hasError(
                  'required'
                ) && changePasswordForm.controls['passwordConfirm'].touched
              "
              class="form-error-msg"
              >Se requiere confirmación de contraseña.</small
            >
            <small
              *ngIf="
                changePasswordForm.controls['passwordConfirm'].hasError(
                  'equalTo'
                )
              "
              class="form-error-msg"
              >Contraseñas no coinciden.</small
            >
          </div>
          <div class="text-center mt-16 mb-16">
            <button
              mat-raised-button
              class="mat-primary full-width mb-16 btn-login"
              [disabled]="changePasswordForm.invalid"
            >
              CAMBIAR
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>