<div style="width: 100%; text-align: right;">
    <a class="close-modal" tabindex="0" role="button" (click)="close()">X</a>
</div>
<mat-card-title style="text-align: center">
    <div class="title-modal">{{ title }}</div>
    <mat-divider></mat-divider>
</mat-card-title>
<mat-card-content>
    <form [formGroup]="form" (ngSubmit)="save()">
 
        <mat-accordion multi>

            <!-- <mat-expansion-panel>
                <mat-expansion-panel-header style="margin-bottom: 0rem !important; background-color: #6C7EB4;">
                    <mat-panel-title style="color: #fff !important;"> Datos Solicitante </mat-panel-title>
                </mat-expansion-panel-header>

                <div fxLayout="row wrap" fxLayout.lt-sm="column">
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Solicitante:</mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Solicitante </mat-label>
                            <input readonly maxlength="20" type="text" readonly matInput
                                placeholder="Escribir Solicitante" formControlName="sname" />
                        </mat-form-field>
                    </div>

                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Empresa y Área:</mat-label>
                    </div>
                    <div fxFlex="30" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Empresa </mat-label>
                            <input readonly maxlength="20" type="text" readonly matInput placeholder="Escribir empresa"
                                formControlName="sbusiness" />
                        </mat-form-field>
                    </div>

                    <div fxFlex="50" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Área </mat-label>
                            <input readonly type="text" readonly matInput placeholder="Escribir Area"
                                formControlName="sposition" />
                        </mat-form-field>
                    </div>
                </div>

            </mat-expansion-panel> -->
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title> Datos del Puesto </mat-panel-title>
                </mat-expansion-panel-header>
                <div fxLayout="row wrap" fxLayout.lt-sm="column">
                      <div fxFlex="20" class="pr-16 pt-16"> 
                        <mat-label style="font-weight: 600;">Empresa y Área <span class="input-required">*</span></mat-label>
                      </div>
                      <div fxFlex="30" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                          <mat-label>Empresa</mat-label>
                          <mat-select [disabled]="disabledCompanyArea" (selectionChange)="changeEmpresa()" formControlName="nid_company_position" >
                              <mat-option *ngFor="let item of empresas" [value]="item.id">{{item.descripcion}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div fxFlex="50" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                          <mat-label>Área</mat-label>
                          <mat-select [disabled]="disabledCompanyArea" formControlName="nid_area_position" (selectionChange)="loadCargo($event.value)">
                              <mat-option *ngFor="let item of areas" [value]="item.id">{{item.nameArea}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div> 
            
                      <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                      </div>
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Puesto <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="30" class="pr-16 pt-16">
                        <mat-checkbox class="example-margin" (change)="changePosition($event)"
                            formControlName="newPosition">Es
                            nuevo puesto?</mat-checkbox>
                    </div>
                    <div fxFlex="50" class="pr-16 pt-16">
                        <mat-form-field class="full-width" *ngIf="newPosition">
                            <mat-label>Nombre del Puesto </mat-label>
                            <input maxlength="50" type="text" c matInput placeholder="Escribir Puesto"
                                formControlName="Employment" />
                            <mat-error *ngIf="
                        form.controls.Employment.touched &&
                        form.controls.Employment.invalid
                      ">
                                <span *ngIf="form.controls.Employment.errors.required">Puesto es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error>
                        </mat-form-field> 
                        <mat-form-field class="full-width" *ngIf="!newPosition">
                            <mat-label>Puesto</mat-label>
                            <mat-select (selectionChange)="changeSelectPuesto($event)" formControlName="idcharge">
                                <mat-option *ngFor="let item of lstcargo" [value]="item.nid_charge">
                                    {{item.snamecharge}}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngIf="
                        form.controls.idcharge.touched &&
                        form.controls.idcharge.invalid
                      ">
                                <span *ngIf="form.controls.idcharge.errors.required">Puesto es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error>
                        </mat-form-field>
                    </div>    
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Tipo de Vacante <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-radio-group formControlName="IdTypeRequest">
                            <mat-radio-button class="radio-responsive-1" style="margin-bottom: 8px;margin-right: 20px; width: 170px;" [value]="53" (change)="changeVacante($event)">Nueva</mat-radio-button>
                            <mat-radio-button class="radio-responsive" [value]="54" (change)="changeVacante($event)">Temporal</mat-radio-button>
                            <!-- <mat-radio-button value="3379" *ngIf="showVacanteTemporal">De reemplazo</mat-radio-button> -->
                            <mat-radio-button class="radio-responsive" [value]="3412" *ngIf="showVacanteTemporal" (change)="changeVacante($event)">De reemplazo</mat-radio-button>
                        </mat-radio-group>
                        <mat-error *ngIf="form.controls.IdTypeRequest.touched && form.controls.IdTypeRequest.invalid">
                            <span *ngIf="form.controls.IdTypeRequest.errors.required" style="font-size: 75%;">Tipo de Vacante es <strong>requerido</strong></span>
                        </mat-error>
                    </div>
                    <ng-container *ngIf="form.get('IdTypeRequest').value == 3412">
                        <div fxFlex="20" class="pr-16 pt-16">
                            <mat-label style="font-weight: 600;">Empleado de Reemplazo <span class="input-required">*</span></mat-label>
                        </div>
                        <div fxFlex="80" class="pr-16 pt-16">
                            <mat-form-field class="full-width">
                                <mat-select  placeholder="Empleado" formControlName="nid_replacement_employee">
                                    <input matInput type="text" (keyup)="onKey($event.target.value)" style="padding-left: 16px; height: 42px; width: 90%;">
                                    <mat-option *ngFor="let item of listEmployeeSelected" [value]="item.nid_employee">{{item.sfullname}}</mat-option>
                                </mat-select>
                                <mat-error *ngIf="form.controls.nid_replacement_employee.touched && form.controls.nid_replacement_employee.invalid">
                                    <span *ngIf="form.controls.nid_replacement_employee.errors.required">Empleado de reemplazo es <strong>requerido</strong>
                                    </span>
                                </mat-error>   
                            </mat-form-field>                            
                        </div>
                    </ng-container>
                    <div fxFlex="100" class="pr-16 pt-16"></div>
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Competencia por puesto <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <table mat-table
                        [dataSource]="CompetenciasDT"
                        class="w-100 mat-elevation-z8"
                        style="background-color: #EFEFEF;"
                        >
                        <ng-container matColumnDef="seleccion" sticky>
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Selección</th>
                        <td
                            mat-cell
                            *matCellDef="let row"
                            class="has_label_on_mobile"
                            data-label="Selección. : "
                        >
                        <mat-checkbox [checked]="row.nidSelected == 1"  (change)="clickCompetence($event, row.id)">
                        </mat-checkbox>
                        </td>
                        </ng-container>
                        <ng-container matColumnDef="competencia">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Competencia</th>
                        <td
                            mat-cell
                            matTooltip="{{row.descriptionProficiency}} <span *ngIf='row.required == true' class='input-required'>*</span>"
                            *matCellDef="let row"
                            class="has_label_on_mobile"
                            data-label="Competencia : "
                        >
                            {{ row.nameProficiency }} <span *ngIf="row.required == true" class="input-required">*</span>
                        </td>
                        </ng-container>
                        <ng-container matColumnDef="nivel1">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nivel 1</th>
                        <td
                            mat-cell
                            matTooltip="{{row.descriptionLevel1}}"
                            *matCellDef="let row"
                            class="has_label_on_mobile"
                            data-label="Nivel 1 : "
                        >
                        <mat-radio-button [disabled]="row.nidSelected == 0" (click)="checkCompetencia(row, 1)" [name]="row.id" [checked]="row.idLevel === 1">
                        </mat-radio-button>
                        </td>
                        </ng-container>
                        <ng-container matColumnDef="nivel2">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Nivel 2
                        </th>
                        <td
                            mat-cell
                            matTooltip="{{row.descriptionLevel2}}"
                            *matCellDef="let row"
                            class="has_label_on_mobile"
                            data-label="Nivel 2 : "
                        >
                        <mat-radio-button [disabled]="row.nidSelected == 0" (click)="checkCompetencia(row, 2)" [name]="row.id" [checked]="row.idLevel === 2">
                        </mat-radio-button>
                        </td>
                        </ng-container>    
                        <ng-container matColumnDef="nivel3">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Nivel 3
                        </th>
                        <td
                            mat-cell
                            matTooltip="{{row.descriptionLevel3}}"
                            *matCellDef="let row"
                            class="has_label_on_mobile"
                            data-label="Nivel 3 : "
                        >
                        <mat-radio-button [disabled]="row.nidSelected == 0" (click)="checkCompetencia(row, 3)" [name]="row.id" [checked]="row.idLevel === 3">
                        </mat-radio-button>
                        </td>
                        </ng-container>
                        <ng-container matColumnDef="nivel4">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Nivel 4
                        </th>
                        <td
                            mat-cell
                            matTooltip="{{row.descriptionLevel4}}"
                            *matCellDef="let row"
                            class="has_label_on_mobile"
                            data-label="Nivel 4 : "
                        >
                        <mat-radio-button [disabled]="row.nidSelected == 0" (click)="checkCompetencia(row, 4)" [name]="row.id" [checked]="row.idLevel === 4">
                        </mat-radio-button>
                        </td>
                        </ng-container>
                        <tr
                                mat-header-row
                                *matHeaderRowDef="displayedColumns; sticky: true"
                            ></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    
                            <tr class="mat-row" *matNoDataRow>
                                <td class="mat-cell text-center" colspan="9">
                                No se encontro Borradores
                                </td>
                            </tr>
                        </table>
                        <div style="font-weight:bold;margin-top:15px;">
                            * En caso de cambios se actualizar&aacute; en el MOF
                        </div>
                    </div>
                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                    </div>
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Locación <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Locación</mat-label>
                            <mat-select formControlName="idlocation">
                                <mat-option *ngFor="let item of lstLocation" [value]="item.nid_department">
                                    {{item.sname}}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngIf="
                        form.controls.idlocation.touched &&
                        form.controls.idlocation.invalid
                      ">
                                <span *ngIf="form.controls.idlocation.errors.required">Locación es
                                    <strong>requerida</strong>
                                </span>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                    </div>
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Sede <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Sede</mat-label>
                            <mat-select formControlName="idsede">
                                <mat-option *ngFor="let item of lstSede" [value]="item.nid_mastertable">
                                    {{item.sdescription_value}}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngIf="
                        form.controls.idsede.touched &&
                        form.controls.idsede.invalid
                      ">
                                <span *ngIf="form.controls.idsede.errors.required">Sede es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                      </div>
                      <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Idioma <span class="input-required">*</span></mat-label>
                      </div>
            
                      <div fxFlex="35" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                          <mat-label>Idioma</mat-label>
                          <mat-select formControlName="banotherlanguage">
                            <mat-option *ngFor="let item of lstLanguages" [value]="item.descriptionValue">
                                {{item.descriptionValue}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div fxFlex="35" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                          <mat-label>Nivel</mat-label>
                          <mat-select formControlName="sanotherlanguagename" aria-label="Select an option">
                            <mat-option [value]="'Básico'">Básico</mat-option>
                            <mat-option [value]="'Intermedio'">Intermedio</mat-option>
                            <mat-option [value]="'Avanzado'">Avanzado</mat-option>
                            <mat-option [value]="'Nativo'">Nativo</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div fxFelx="5"  class=" pt-16">
                        <button type="button" mat-button color="primary" class="btn-principal" (click)="AgregarIdioma()"><mat-icon >add</mat-icon></button>
                      </div>
                      
                      <div fxFlex="20" class="pr-16 pt-16">
                        
                      </div>
                        <div fxFlex="80" class="pr-16 pt-16">
                            <table mat-table
                            [dataSource]="LanguagesDT"
                            class="w-100 mat-elevation-z8"
                            style="background-color: #EFEFEF;"
                            >
                            <ng-container matColumnDef="idioma" sticky>
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Idioma</th>
                            <td
                                mat-cell
                                *matCellDef="let row"
                                matTooltip="{{row.slanguage}}"
                                class="has_label_on_mobile"
                                data-label="Idioma. : "
                            >
                            {{row.slanguage}}
                            </td>
                            </ng-container>
                            <ng-container matColumnDef="nivel">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Nivel</th>
                            <td
                                mat-cell
                                matTooltip="{{row.snivel}}"
                                *matCellDef="let row"
                                class="has_label_on_mobile"
                                data-label="Nivel : "
                            >
                                {{ row.snivel }}
                            </td>
                            </ng-container>
                            <ng-container matColumnDef="acciones">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Acción</th>
                                <td mat-cell 
                                    *matCellDef="let row"
                                    class="has_label_on_mobile"
                                    data-label="Acciones : ">
                                    <button mat-button class="btn-principal" (click)="EliminarIdioma(row.slanguage)"><mat-icon >delete</mat-icon></button>
                                </td>
                            </ng-container>
                            
                            <tr
                                    mat-header-row
                                    *matHeaderRowDef="displayedColumnsLanguages; sticky: true"
                                ></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsLanguages"></tr>
              
                                <tr class="mat-row" *matNoDataRow>
                                    <td class="mat-cell text-center" colspan="9">
                                    No se encontraron idiomas
                                    </td>
                                </tr>
                            </table>
                        </div>
                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                    </div>
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Categoría del Empleado <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Categoría</mat-label>
                            <mat-select formControlName="IdCategory">
                                <mat-option *ngFor="let item of lstCategory" [value]="item.nid_category">
                                    {{item.sdescription}}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngIf="
                        form.controls.IdCategory.touched &&
                        form.controls.IdCategory.invalid
                      ">
                                <span *ngIf="form.controls.IdCategory.errors.required">Categoría es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error>
                        </mat-form-field>
                    </div>
    
                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                    </div>  
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Discapacidad</mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-slide-toggle formControlName="isSuitableForDisabled">
                            <p>Este trabajo es apto para personas <br class="show-responsive">con discapacidad</p>
                          </mat-slide-toggle>
                    </div>
                    
                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                    </div>
    
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Justificación <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Justificación: </mat-label>
                            <input maxlength="500" type="text" matInput placeholder="Justificación"
                              formControlName="sjustification" />
                            <mat-error *ngIf="form.controls.sjustification.touched && form.controls.sjustification.invalid">
                                <span *ngIf="form.controls.sjustification.errors.required">Justificaci&oacute;n es <strong>requerido</strong>
                                </span>
                            </mat-error>   
                        </mat-form-field>
                                               
                    </div>
                </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title> Funciones </mat-panel-title>
                </mat-expansion-panel-header>
        
                <div fxLayout="row wrap" fxLayout.lt-sm="column">
        
                  <div fxFlex="20" class="pr-16 pt-16">
                    <mat-label style="font-weight: 600;">Principales Funciones del Puesto <span class="input-required">*</span></mat-label>
                  </div>
                  <div fxFlex="80" style="margin-top: 10px;border-style: ridge;" class="pr-16">
                    <mat-card-content class="p-0">
                      <quill-editor [modules]="editorOptions" theme="snow" [formControl]="form.controls['sfunctions']" [required]="true"></quill-editor>
                    </mat-card-content>
                    <mat-error *ngIf="form.controls.sfunctions.touched && form.controls.sfunctions.invalid">
                        <span *ngIf="form.controls.sfunctions.errors.required" style="font-size: 75%;">Principales funciones del puesto es <strong>requerido</strong>
                        </span>
                    </mat-error>
                  </div>
                </div>
        
              </mat-expansion-panel>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title> Condiciones de Trabajo </mat-panel-title>
                </mat-expansion-panel-header>

                <div fxLayout="row wrap" fxLayout.lt-sm="column">


                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Horario de Trabajo <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-form-field class="full-width" style="margin-top: 4px;">
                            <mat-select  placeholder="Seleccionar una opcion" formControlName="schedule" >
                                <input matInput (keyup)="onKeyHorario($event.target.value)" style="padding-left: 16px; height: 42px; width: 90%;">
                                <mat-option *ngFor="let item of listHorariosSelected" [value]="item.sshort_value">{{item.sshort_value + ' - ' + item.sdescription_value}}</mat-option>
                              </mat-select> 
                              <mat-error *ngIf="
                                  form.controls.schedule.touched &&
                                  form.controls.schedule.invalid
                                ">
                                <span *ngIf="form.controls.schedule.errors.required">Campo <strong>requerido</strong>
                                </span>
                              </mat-error>
                          </mat-form-field>
                    </div>

                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Modalidad de Contratación <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <mat-radio-group formControlName="nid_modalitycontracting" aria-label="Select an option">
                            <mat-radio-button style="margin-bottom: 8px;margin-right: 20px; width: 170px;" [value]="83">
                                Temporal</mat-radio-button>
                            <mat-radio-button style="margin-bottom: 8px; width: 180px;" [value]="84">Practicas Pre-profesionales
                            </mat-radio-button>
                            <mat-radio-button style="margin-bottom: 8px;" [value]="85">Plazo Fijo</mat-radio-button>
                            <mat-radio-button style="margin-bottom: 8px;" [value]="86">Plazo Indeterminado
                            </mat-radio-button>
                            <mat-radio-button style="margin-bottom: 8px;" [value]="87">Practicas Profesionales
                            </mat-radio-button>
                        </mat-radio-group>
                        <mat-error *ngIf="form.controls.nid_modalitycontracting.touched && form.controls.nid_modalitycontracting.invalid">
                            <span *ngIf="form.controls.nid_modalitycontracting.errors.required" style="font-size: 75%;">Modalidad de Contrataci&oacute;n es <strong>requerido</strong></span>
                        </mat-error>
                    </div>

                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                    </div>

                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Tiempo de Contratación: <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="40" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Tiempo de Contratación (meses): </mat-label>
                            <input maxlength="20" type="number" min="1" matInput placeholder="Tiempo de contratacion" formControlName="ncontracttime" />
                            <mat-error *ngIf="form.controls.ncontracttime.touched && form.controls.ncontracttime.invalid">
                                <span *ngIf="form.controls.ncontracttime.errors.required">Campo <strong>requerido</strong></span><br>
                                <span *ngIf="form.controls.ncontracttime.errors.min">El tiempo de contratación es de <strong>1 mes minimo</strong></span><br>
                                <span *ngIf="form.controls.ncontracttime.errors.pattern">El tiempo de contratación <strong>debe ser numérico</strong></span>
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <!--
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Datos de Contratación:</mat-label>
                    </div>
                    <div fxFlex="40" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Remuneración Fija: </mat-label>
                            <input (keypress)="valideKey($event)" maxlength="20" type="number" matInput
                                placeholder="Escribir sueldo mensual fijo" formControlName="nsalaryemployment" />
                            <mat-error *ngIf="
                        form.controls.nsalaryemployment.touched &&
                        form.controls.nsalaryemployment.invalid
                      ">
                                <span *ngIf="form.controls.nsalaryemployment.errors.required">Puesto es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div fxFlex="40" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Remuneración Variable: </mat-label>
                            <input (keypress)="valideKey($event)" maxlength="20" type="number" matInput
                                placeholder="Escribir remuneracion variable" formControlName="nvariableremuneration" />
                            <mat-error *ngIf="
                        form.controls.nvariableremuneration.touched &&
                        form.controls.nvariableremuneration.invalid
                      ">
                                <span *ngIf="form.controls.nvariableremuneration.errors.required">Puesto es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error>
                        </mat-form-field>
                    </div> -->

                </div>

            </mat-expansion-panel>

            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title> Conocimientos y Certificaciones </mat-panel-title>
                </mat-expansion-panel-header>

                <div fxLayout="row wrap" fxLayout.lt-sm="column">


                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Conocimientos <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="80" style="margin-top: 10px;border-style: ridge;" class="pr-16">
                        <mat-card-content class="p-0">
                            <quill-editor [modules]="editorOptions" theme="snow" [formControl]="form.controls['sknowledge']"></quill-editor>
                        </mat-card-content>
                        <mat-error *ngIf="form.controls.sknowledge.touched && form.controls.sknowledge.invalid">
                            <span *ngIf="form.controls.sknowledge.errors.required" style="font-size: 75%;">Conocimientos es <strong>requerido</strong>
                            </span>
                        </mat-error>
                    </div>
                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                    </div>

                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Certificaciones <span class="input-required">*</span></mat-label>
                    </div>

                    <div fxFlex="80" style="margin-top: 10px;border-style: ridge;" class="pr-16">
                        <mat-card-content class="p-0">
                            <quill-editor [modules]="editorOptions" theme="snow" [formControl]="form.controls['sabilities']"></quill-editor>
                        </mat-card-content>
                        <mat-error *ngIf="form.controls.sabilities.touched && form.controls.sabilities.invalid">
                            <span *ngIf="form.controls.sabilities.errors.required" style="font-size: 75%;">Certificaciones es <strong>requerido</strong>
                            </span>
                        </mat-error>
                    </div>

                </div>

            </mat-expansion-panel>

            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title> Grado Académico </mat-panel-title>
                </mat-expansion-panel-header>

                <div fxLayout="row wrap" fxLayout.lt-sm="column">
                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Pre Grado <span class="input-required">*</span></mat-label>
                    </div>
                    <div fxFlex="35" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Carrera</mat-label>
                            <input maxlength="150" type="text" matInput placeholder="Escribir carrera estudiada"
                                formControlName="scareer" />
                            <!-- <mat-error *ngIf="
                        form.controls.scareer.touched &&
                        form.controls.scareer.invalid
                      ">
                                <span *ngIf="form.controls.scareer.errors.required">Carrera es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error> -->
                        </mat-form-field> 
                    </div>
                    <div fxFlex="35" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Grado</mat-label>
                            <mat-select formControlName="idgrade">
                                <mat-option *ngFor="let item of lstGrade" [value]="item.nid_mastertable">
                                    {{item.sdescription_value}}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngIf="
                        form.controls.idgrade.touched &&
                        form.controls.idgrade.invalid
                      ">
                                <span *ngIf="form.controls.idgrade.errors.required">Grado es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div fxFelx="5"  class=" pt-16">
                        <button type="button" mat-button color="primary" class="btn-principal" (click)="AgregarPregrado()"><mat-icon >add</mat-icon></button>
                    </div>

                    <div fxFlex="20" class="pr-16 pt-16">
                        
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <table mat-table
                        [dataSource]="PregradoDT"
                        class="w-100 mat-elevation-z8"
                        style="background-color: #EFEFEF;"
                        >
                        <ng-container matColumnDef="carrera" sticky>
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Carrera</th>
                        <td
                            mat-cell
                            *matCellDef="let row"
                            matTooltip="{{row.scareer}}"
                            class="has_label_on_mobile"
                            data-label="Carrera. : "
                        >
                        {{row.scareer}}
                        </td>
                        </ng-container>
                        <ng-container matColumnDef="grado">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Grado</th>
                        <td
                            mat-cell
                            *matCellDef="let row"
                            class="has_label_on_mobile"
                            data-label="Grade : "
                        >
                        {{row.sgrade}}
                        </td>
                        </ng-container>
                        <ng-container matColumnDef="acciones">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Acción</th>
                            <td mat-cell 
                                *matCellDef="let row"
                                class="has_label_on_mobile"
                                data-label="Acciones : ">
                                <button mat-button class="btn-principal" (click)="EliminarPregrado(row.scareer)"><mat-icon >delete</mat-icon></button>
                            </td>
                        </ng-container>
                        
                        <tr
                                mat-header-row
                                *matHeaderRowDef="displayedColumnsPregrado; sticky: true"
                            ></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumnsPregrado"></tr>
        
                            <tr class="mat-row" *matNoDataRow>
                                <td class="mat-cell text-center" colspan="9">
                                No se encontraron carreras
                                </td>
                            </tr>
                        </table>
                    </div>
                  <div fxFlex="100" class="pr-16 pt-16">
                      <mat-divider></mat-divider>
                  </div>

                    <div fxFlex="20" class="pr-16 pt-16">
                        <mat-label style="font-weight: 600;">Post Grado</mat-label>
                    </div>
                    <div fxFlex="35" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Carrera: </mat-label>
                            <input maxlength="150" type="text" matInput placeholder="Escribir carrera estudiada"
                                formControlName="scareer_post" />
                            <!-- <mat-error *ngIf="
                        form.controls.scareer_post.touched &&
                        form.controls.scareer_post.invalid
                      ">
                                <span *ngIf="form.controls.scareer_post.errors.required">Carrera es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error> -->
                        </mat-form-field> 
                    </div>
                    <div fxFlex="35" class="pr-16 pt-16">
                        <mat-form-field class="full-width">
                            <mat-label>Grado</mat-label>
                            <mat-select formControlName="idgrade_post">
                                <mat-option *ngFor="let item of listPostGrado" [value]="item.sshort_value">
                                    {{item.sdescription_value}}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngIf="
                        form.controls.idgrade_post.touched &&
                        form.controls.idgrade_post.invalid
                      ">
                                <span *ngIf="form.controls.idgrade_post.errors.required">Grado es
                                    <strong>requerido</strong>
                                </span>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div fxFelx="5"  class=" pt-16">
                        <button type="button" mat-button color="primary" class="btn-principal" (click)="AgregarPostgrado()"><mat-icon >add</mat-icon></button>
                    </div>

                    <div fxFlex="20" class="pr-16 pt-16">
                        
                    </div>
                    <div fxFlex="80" class="pr-16 pt-16">
                        <table mat-table
                        [dataSource]="PostgradoDT"
                        class="w-100 mat-elevation-z8"
                        style="background-color: #EFEFEF;"
                        >
                        <ng-container matColumnDef="carrera" sticky>
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Carrera</th>
                        <td
                            mat-cell
                            *matCellDef="let row"
                            matTooltip="{{row.scareer}}"
                            class="has_label_on_mobile"
                            data-label="Carrera. : "
                        >
                        {{row.scareer}}
                        </td>
                        </ng-container>
                        <ng-container matColumnDef="grado">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Grado</th>
                        <td
                            mat-cell
                            *matCellDef="let row"
                            class="has_label_on_mobile"
                            data-label="Grade : "
                        >
                        {{row.sgrade}}
                        </td>
                        </ng-container>
                        <ng-container matColumnDef="acciones">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Acción</th>
                            <td mat-cell 
                                *matCellDef="let row"
                                class="has_label_on_mobile"
                                data-label="Acciones : ">
                                <button mat-button class="btn-principal" (click)="EliminarPostgrado(row.scareer)"><mat-icon >delete</mat-icon></button>
                            </td>
                        </ng-container>                     
                        <tr
                                mat-header-row
                                *matHeaderRowDef="displayedColumnsPregrado; sticky: true"
                            ></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumnsPregrado"></tr>
        
                            <tr class="mat-row" *matNoDataRow>
                                <td class="mat-cell text-center" colspan="9">
                                No se encontraron carreras
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div fxFlex="100" class="pr-16 pt-16">
                        <mat-divider></mat-divider>
                    </div>
                </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title> Visión del Puesto </mat-panel-title>
              </mat-expansion-panel-header>
              <div fxLayout="row wrap" fxLayout.lt-sm="column">
                <div fxFlex="20" class="pr-16 pt-16">
                  <mat-label style="font-weight: 600;">Primer Mes <span class="input-required">*</span></mat-label>
                </div>
                <div fxFlex="80" class="pr-16 pt-16">
                  <mat-form-field class="example-full-width" style="width:100%">
                    <textarea matInput placeholder="Comentario primer mes" formControlName="scommentfirstmonth"></textarea>
                    <mat-error *ngIf="form.controls.scommentfirstmonth.touched && form.controls.scommentfirstmonth.invalid">
                      <span *ngIf="form.controls.scommentfirstmonth.errors.required">Comentario del primer mes es <strong>requerido</strong></span>
                    </mat-error>
                  </mat-form-field>
                </div>
                <div fxFlex="20" class="pr-16 pt-16">
                  <mat-label style="font-weight: 600;">Primer Año <span class="input-required">*</span></mat-label>
                </div>
                <div fxFlex="80" class="pr-16 pt-16">
                  <mat-form-field class="example-full-width" style="width:100%">
                    <textarea matInput placeholder="Comentario primer año" formControlName="scommentfirstyear"></textarea>
                    <mat-error *ngIf="form.controls.scommentfirstyear.touched && form.controls.scommentfirstyear.invalid">
                      <span *ngIf="form.controls.scommentfirstyear.errors.required">Comentario del primer año es <strong>requerido</strong></span>
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title> Comentarios </mat-panel-title>
              </mat-expansion-panel-header>
              <div fxLayout="row wrap" fxLayout.lt-sm="column">
                <div fxFlex="20" class="pr-16 pt-16">
                  <mat-label style="font-weight: 600;">Comentarios:</mat-label>
                </div>
                <div fxFlex="80" style="margin-top: 10px;border-style: ridge;" class="pr-16">
                  <mat-card-content class="p-0">
                    <quill-editor [modules]="editorOptions" theme="snow" [formControl]="form.controls['scomment']"></quill-editor>
                  </mat-card-content>
                </div>
              </div>
            </mat-expansion-panel>
        </mat-accordion>

        <div class="group-buttons" style="margin-top: 25px;">
            <button type="submit" class="group-buttons-new">Enviar</button>
            <button type="button" (click)="close()" class="group-buttons-cancel">
                Cancelar
            </button>
            <button type="button" class="group-buttons-borrador" (click)="saveBorrador()">
                Guardar
            </button>
        </div>
    </form>
</mat-card-content>