<div class="content">
    <div class="section-header">

    </div>
    <div class="section-table">
        <table mat-table [dataSource]="flowDT" class="w-100 mat-elevation-z8">
            <ng-container matColumnDef="action" sticky>
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Opción</th>
                <td
                  mat-cell
                  *matCellDef="let row"
                  class="has_label_on_mobile"
                  data-label="Opción: "
                >
                  <button
                    mat-icon-button
                    [matMenuTriggerFor]="menu"
                    matTooltip="Desplegar"
                    matTooltipPosition="right"
                    mat-stroked-button
                    color="accent"
                  >
                    <mat-icon>more_vert</mat-icon>
                  </button>
                  <mat-menu #menu="matMenu" xPosition="after"> 
                    <button
                    (click)="getDetailPath(row.id)"
                    routerLinkActive="router-link-active" mat-menu-item>
                      <mat-icon color="accent">playlist_add</mat-icon>
                      <span>Ver Evaluación</span>
                    </button>
                  </mat-menu>
                </td>
              </ng-container>
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label="Id: ">
                    {{ row.id }}
                </td>
            </ng-container>
            <ng-container matColumnDef="codReq">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Código de requerimiento</th>
                <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label="Código de requerimiento : ">
                    {{ row.codReq }}
                </td>
            </ng-container>
            <ng-container matColumnDef="positionRequired">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Posición requerida</th>
                <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label="Posición requerida : ">
                    {{ row.positionRequired}}
                </td>
            </ng-container>
            <ng-container matColumnDef="dateRegister">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Fecha de registro
                </th>
                <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label="Fecha de registro : ">
                    {{ row.dateRegister | date:'dd/MM/YYYY' }}
                </td>
            </ng-container>
            <ng-container matColumnDef="state">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
                <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label="Estado : ">
                    <p-tag *ngIf="row.state== 'Iniciado'" severity="danger" [value]="row.state"></p-tag>
                    <p-tag *ngIf="row.state== 'Terminado'" severity="success" [value]="row.state"></p-tag>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell text-center" colspan="4">
                    No se encontro evaluaciones
                </td>
            </tr>
        </table>
        <mat-paginator #paginator [length]="filter.pagination.totalItems" [pageIndex]="currentPage" [pageSize]="pageSize"
        [pageSizeOptions]="pageSizeOptions" (page)="pageChanged($event)" aria-label="Select page">
        </mat-paginator>
    </div>
</div>