<mat-card-title class="">
    <div class="card-title-text">Cambiar mi contraseña</div>
    <mat-divider></mat-divider>
  </mat-card-title>
  <mat-dialog-content>
    <mat-card-content class="height-auto">
      <form [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
        <div fxLayout="row wrap" fxLayout.lt-sm="column">
         

          <div fxFlex="100" class="pr-16 pt-16">
            <mat-form-field class="full-width">
                <input
                  type="password"
                  name="password"
                  matInput
                  [formControl]="changePasswordForm.controls['passwordWithoutEncryptionOld']"
                  placeholder="Contraseña actual"
                  value=""
                  maxlength="12"
                />
              </mat-form-field>
              <small
                *ngIf="
                  changePasswordForm.controls['passwordWithoutEncryptionOld'].hasError('required') &&
                  changePasswordForm.controls['passwordWithoutEncryptionOld'].touched
                "
                class="form-error-msg"
              >
                Se requiere la contraseña actual
              </small>
              <small 
              *ngIf="changePasswordForm.controls['passwordWithoutEncryptionOld'].hasError('minlength') && changePasswordForm.controls['passwordWithoutEncryptionOld'].touched" 
              class="form-error-msg"> La contraseña actual debe contener un mínimo de  {{changePasswordForm.controls['passwordWithoutEncryptionOld'].errors.minlength.requiredLength}} caracteres </small>
              
              <small 
              *ngIf="changePasswordForm.controls['passwordWithoutEncryptionOld'].hasError('maxlength') && changePasswordForm.controls['passwordWithoutEncryptionOld'].touched" 
              class="form-error-msg"> La contraseña actual no puede contener mas de  {{changePasswordForm.controls['passwordWithoutEncryptionOld'].errors.maxlength.requiredLength}} caracteres </small>
  
          </div>

          <div fxFlex="100" class="pr-16 pt-16">
            <mat-form-field class="full-width">
                <input
                  type="password"
                  name="password"
                  matInput
                  [formControl]="changePasswordForm.controls['passwordWithoutEncryption']"
                  placeholder="Nueva Contraseña"
                  value=""
                  maxlength="12"
                />
              </mat-form-field>
              <small
                *ngIf="
                  changePasswordForm.controls['passwordWithoutEncryption'].hasError('required') &&
                  changePasswordForm.controls['passwordWithoutEncryption'].touched
                "
                class="form-error-msg"
              >
                Se requiere la contraseña
              </small>
              <small 
              *ngIf="changePasswordForm.controls['passwordWithoutEncryption'].hasError('minlength') && changePasswordForm.controls['passwordWithoutEncryption'].touched" 
              class="form-error-msg"> La contraseña debe contener un mínimo de  {{changePasswordForm.controls['passwordWithoutEncryption'].errors.minlength.requiredLength}} caracteres </small>
              <small 
              *ngIf="changePasswordForm.controls['passwordWithoutEncryption'].hasError('pattern') && changePasswordForm.controls['passwordWithoutEncryption'].touched" 
              class="form-error-msg"> La contraseña debe tener al menos letras minúsculas y mayúsculas, un número y un símbolo</small>
              
              <small 
              *ngIf="changePasswordForm.controls['passwordWithoutEncryption'].hasError('maxlength') && changePasswordForm.controls['passwordWithoutEncryption'].touched" 
              class="form-error-msg"> La contraseña no puede contener mas de  {{changePasswordForm.controls['passwordWithoutEncryption'].errors.maxlength.requiredLength}} caracteres </small>
              
              
              
          </div>
          <div fxFlex="100" class="pr-16 pt-16">
            <mat-form-field class="full-width">
                <input
                  type="password"
                  name="confirmPassword"
                  matInput
                  [formControl]="changePasswordForm.controls['passwordConfirm']"
                  placeholder="Confirmar Password"
                  value=""
                  maxlength="12"
                />
              </mat-form-field>
              <small
                *ngIf="
                  changePasswordForm.controls['passwordConfirm'].hasError(
                    'required'
                  ) && changePasswordForm.controls['passwordConfirm'].touched
                "
                class="form-error-msg"
                >Se requiere confirmación de contraseña.</small
              >
              <small
                *ngIf="
                  changePasswordForm.controls['passwordConfirm'].hasError(
                    'equalTo'
                  )
                "
                class="form-error-msg"
                >Contraseñas no coinciden.</small
              >
  
          </div>
       
  
  <br><br><br>
  <br><br>
  
  
          <mat-divider></mat-divider>
          <div fxFlex="100" class="mt-16">
            <button mat-raised-button color="primary" class="dark-blue-400 dark-blue-400-fg mr-4"
              [disabled]="changePasswordForm.invalid">Guardar</button>
            <span fxFlex></span>
            <button mat-button color="watn" class="dark-blue-100 dark-blue-100-fg ml-4" type="button"
              (click)="dialogRef.close(false)">Cancel</button>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-dialog-content>