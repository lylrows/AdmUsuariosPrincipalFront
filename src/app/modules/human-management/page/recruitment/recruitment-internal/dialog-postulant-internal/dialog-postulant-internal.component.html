<mat-card-title class="content_two" >
    <div class="card-title-text" style="padding-bottom:10px ;">{{data.title}}</div>
    <div style="text-align: right; margin-left: 36px; margin-top: -12px; font-size: 15px;width: 21%;">
        <a class="close-modal" tabindex="0" role="button" (click)="dialogRef.close(false)" >X</a>
    </div>
    <mat-divider style="padding-top: 10px;"></mat-divider>
</mat-card-title>
<mat-dialog-content>
    <mat-card-content class="height-auto">
        <form #fichaForm="ngForm">
            <div fxLayout="row wrap" fxLayout.lt-sm="column">
                <div fxFlex="100" class="filter__buttons mt-16">
                    <mat-accordion class="acordeon-postulant responsive-ficha" multi>
                    <!-- <mat-accordion class="w-100" multi>  -->
                        <mat-expansion-panel expanded>
                            <mat-expansion-panel-header style="margin-bottom: 0rem !important; background-color: #6C7EB4;">
                                <mat-panel-title style="color: #fff !important;">Informaci贸n del Requerimiento</mat-panel-title>
                            </mat-expansion-panel-header>
                            <app-recruitment-information-request [filter]="this.filterPostulantRequest" (updateModel)="updateModelPostulantRequest($event)" [showExactusDescription]="true"></app-recruitment-information-request>
                        </mat-expansion-panel>
                        <!-- <mat-expansion-panel *ngIf="showSendExatus"> -->
                        <mat-expansion-panel *ngIf="showSendExatus">
                            <mat-expansion-panel-header style="margin-bottom: 0rem !important; background-color: #6C7EB4;">
                                <mat-panel-title style="color: #fff !important;">Informaci贸n Exactus</mat-panel-title>
                            </mat-expansion-panel-header>
                            <form [formGroup]="itemForm">
                                <div fxLayout="row wrap" fxLayout.lt-sm="column">              
                                    <div fxFlex="50" class="pr-16" style="padding-top: 15px;">
                                        <mat-form-field class="example-full-width background-exactus" appearance="fill" style="width: 100%;">
                                            <mat-label>Nomina <strong>(Exactus)</strong></mat-label>
                                            <mat-select [formControl]="itemForm.controls['scodepayroll']">
                                                <mat-option *ngFor="let nomina of exactuspayroll" [value]="nomina.code">
                                                    {{nomina.description}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex="50" class="pr-16" style="padding-top: 15px;">
                                        <mat-form-field class="example-full-width background-exactus" appearance="fill" style="width: 100%;">
                                            <mat-label>Ubicaci贸n (Sede) <strong>(Exactus)</strong></mat-label>
                                            <mat-select [formControl]="itemForm.controls['scodelocation']">
                                                <mat-option *ngFor="let loc of exactuslocation" [value]="loc.code">
                                                    {{loc.description}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex="50" class="pr-16" style="padding-top: 15px !important; padding-bottom: 15px !important;">
                                        <mat-label>Descontar Quinta <strong>(Exactus)</strong></mat-label>
                                        <mat-radio-group style="margin-top: 2%; padding-left: 10px;"
                                            [formControl]="itemForm.controls['bfifthdiscount']" appearance="fill"
                                            style="width: 100%;" aria-label="Select an option">
                                            <mat-radio-button [value]="true">Si</mat-radio-button>
                                            <mat-radio-button [value]="false">No</mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                    <div fxFlex="50" class="pr-16" style="padding-top: 15px !important; padding-bottom: 15px !important;">
                                        <mat-label>Remuneraci贸n Integral <strong>(Exactus)</strong></mat-label>
                                        <mat-radio-group style="margin-top: 2%; padding-left: 10px;"
                                            [formControl]="itemForm.controls['bintegralremuneration']" appearance="fill"
                                            style="width: 100%;" aria-label="Select an option" class="example-full-width">
                                            <mat-radio-button [value]="true">Si</mat-radio-button>
                                            <mat-radio-button [value]="false">No</mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                    <div fxFlex="50">
                                      <mat-form-field class="pr-16 background-exactus" appearance="fill">
                                        <mat-label>Nuevo Salario <strong>(Exactus)</strong></mat-label>
                                        <input type="number" [formControl]="itemForm.controls['salaryref']"  matInput
                                          placeholder="Salario Referencial" maxlength="6" />
                                          <span matPrefix>S/&nbsp;</span>
                                      </mat-form-field>
                                    </div>
                                    <div fxFlex="50" class="pr-16">
                                      <mat-form-field class="full-width background-exactus" style="margin-top: 4px;">
                                        <mat-label>Horario <strong>(Exactus)</strong></mat-label>
                                        <mat-select  placeholder="Seleccionar una opcion" [formControl]="itemForm.controls['schedule']">
                                            <input matInput (keyup)="onKeyHorario($event.target.value)" style="padding-left: 16px; height: 42px; width: 90%;">
                                            <mat-option *ngFor="let item of listHorariosSelected" [value]="item.sshort_value">{{item.sshort_value + ' - ' + item.sdescription_value}}</mat-option>
                                        </mat-select> 
                                      </mat-form-field>
                                    </div>
                                    <div fxFlex="50" class="pr-16" style="padding-top: 15px !important;">
                                        <mat-label>Afp Mixta <strong>(Exactus)</strong></mat-label>
                                        <mat-radio-group style="margin-top: 2%; padding-left: 10px;"
                                            [formControl]="itemForm.controls['bafpmixed']" appearance="fill" style="width: 100%;"
                                            aria-label="Select an option">
                                            <mat-radio-button [value]="true">Si</mat-radio-button>
                                            <mat-radio-button [value]="false">No</mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                    <div fxFlex="50" class="pr-16">
                                        <mat-form-field class="example-full-width background-exactus" appearance="fill" style="width: 100%;">
                                            <mat-label>AFP <strong>(Exactus)</strong></mat-label>
                                            <mat-select [formControl]="itemForm.controls['scodeafp']">
                                                <mat-option *ngFor="let afp of exactusafp" [value]="afp.code">
                                                    {{ afp.description }}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex="50" class="pr-16">
                                        <mat-form-field class="example-full-width background-exactus" appearance="fill" style="width: 100%;">
                                            <mat-label>CUSPP <strong>(Exactus)</strong></mat-label>
                                            <input matInput name="scuspp" maxlength="20"
                                                [formControl]="itemForm.controls['scuspp']" placeholder="CUSPP">
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex="50" class="pr-16">
                                        <mat-form-field class="example-full-width background-exactus" appearance="fill" style="width: 100%;">
                                            <mat-label>Fecha Inicio de Cambio <strong>(Exactus)</strong></mat-label>
                                            <input matInput name="dstartposition" (dateChange)="changeDateExactus()"
                                                [formControl]="itemForm.controls['dstartposition']" placeholder="Fecha Inicio" [matDatepicker]="picker3" readonly>
                                            <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                            <mat-datepicker #picker3></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex="50" class="pr-16">
                                        <mat-form-field class="example-full-width background-exactus" appearance="fill" style="width: 100%;">
                                            <mat-label>Fecha Fin de Cambio <strong>(Exactus)</strong></mat-label>
                                            <input matInput name="dendposition" (dateChange)="changeDateExactus()"
                                                [formControl]="itemForm.controls['dendposition']" placeholder="Fecha Fin" [matDatepicker]="picker2" readonly>
                                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                            <mat-datepicker #picker2></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex="50" class="pr-16">
                                        <mat-form-field class="example-full-width background-exactus" appearance="fill" style="width: 100%;">
                                            <mat-label>Meses <strong>(Exactus)</strong></mat-label>
                                            <input matInput name="dendposition" placeholder="Meses" readonly value="{{this.mesesDiferenciaPositionExactus | number : '1.2-2'}}">
                                        </mat-form-field>
                                    </div>
                                    <mat-divider></mat-divider>
                                </div> 
                            </form>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
                <mat-divider></mat-divider>
                <div fxFlex="100" class="filter__buttons mt-16" style="display: flex; justify-content: center;">
                    <button class="button-mobile button-standar" *ngIf="!this.postulantRequest.confirmed" mat-raised-button (click)="submitFichaPersonal(true)" type="submit" color="primary" [disabled]="!fichaForm.form.valid" >Confirmar</button>
                    <button class="button-mobile" *ngIf="!this.postulantRequest.confirmed || this.permitConfirmar" mat-raised-button (click)="submitFichaPersonal(false)" type="submit" color="primary" [disabled]="!fichaForm.form.valid">Grabar</button>
                    <button class="button-mobile" mat-button  color="warn" type="button" (click)="dialogRef.close(false)">Cancel</button>
                </div>
            </div>
        </form>
    </mat-card-content>
</mat-dialog-content>